# 我们的读书角落 (Reading Corner)

一个专为两人设计的共读应用，支持实时标注、评论和语音交流。

## ✨ 项目特色

- 🔐 **双重身份验证** - 密码验证 + 角色确认
- 📱 **移动端优先** - 完美适配手机浏览器
- 🎨 **个性化标注** - 不同用户使用不同颜色高亮
- 💬 **多样化交互** - 表情反应、文字评论、语音录制
- ⚡ **实时同步** - 标注内容实时显示给对方
- 🛡️ **完全私密** - 仅限两个特定用户使用

## 🏗️ 技术架构

### 前端技术栈
- **React 18** + **TypeScript** - 现代化前端框架
- **Vite** - 快速构建工具
- **Tailwind CSS** - 实用优先的CSS框架
- **功能特性目录结构** - 按功能模块组织代码

### 后端服务
- **腾讯云 CloudBase** - 提供实时数据库和文件存储
- **服务层抽象** - 便于后期切换云服务提供商

## 📁 项目结构

```
src/
├── features/           # 功能模块
│   ├── auth/          # 身份验证
│   │   ├── components/
│   │   ├── hooks/
│   │   └── tests/
│   ├── reader/        # 阅读器
│   │   ├── components/
│   │   ├── hooks/
│   │   └── tests/
│   └── annotations/   # 标注功能
│       ├── components/
│       ├── hooks/
│       └── tests/
├── services/          # 服务层
│   └── cloudService.ts
├── types/             # 类型定义
├── utils/             # 工具函数
└── content/           # 内容数据
    └── content.json
```

## 🚀 快速开始

### 环境要求
- Node.js 20.19+ 或 22.12+
- npm 或 yarn

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 预览测试页面
由于Node.js版本限制，可以直接在浏览器打开 `test.html` 预览功能演示。

## 🔑 使用说明

### 登录方式
1. **用户A**: 密码 `021117` → 选择 "世上最美的女人"
2. **用户B**: 密码 `000726` → 选择 "她的男仆"

### 标注功能
1. **长按选择文本** - 在移动端长按并拖动选择文字
2. **选择标注类型**:
   - 🤔😮❤️🤨 **表情反应** - 快速表达情感
   - 💌 **回信** - 标记需要回复的内容
   - 💬 **文字评论** - 添加详细想法
   - 🎙️ **语音留言** - 录制最长3分钟的语音

### 颜色标识
- 🌸 **粉色高亮** - "世上最美的女人"的标注
- 🔷 **蓝色高亮** - "她的男仆"的标注
- ✓✓ **已读标识** - 对方已查看的标注会显示已读状态

## 📱 移动端体验

### 触摸操作
- **长按选择** - 长按文本开始选择
- **拖动扩展** - 拖动调整选择范围
- **点击查看** - 点击高亮文本查看标注详情
- **语音录制** - 支持手机麦克风录音

### 响应式设计
- 自适应各种屏幕尺寸
- 优化触摸目标大小
- 防止内容被软键盘遮挡

## 🛠️ 开发特性

### 代码质量
- **TypeScript** 类型安全
- **ESLint** 代码规范检查
- **Prettier** 代码格式化
- **模块化架构** 便于维护

### 测试覆盖
- 组件单元测试
- 功能集成测试
- 用户交互测试

## 🔧 配置说明

### 环境变量
```env
# 腾讯云 CloudBase 配置
VITE_CLOUDBASE_ENV_ID=your-env-id
VITE_CLOUDBASE_APP_ID=your-app-id
```

### Tailwind 自定义颜色
```javascript
// tailwind.config.js
theme: {
  extend: {
    colors: {
      'user-a': '#FFC0CB', // 世上最美的女人
      'user-b': '#ADD8E6', // 她的男仆
    },
  },
}
```

## 📊 功能状态

### ✅ 已完成
- [x] 项目初始化和配置
- [x] 身份验证系统
- [x] 阅读空间界面
- [x] 文本选择功能
- [x] 标注工具栏
- [x] 标注高亮显示
- [x] 语音录制组件
- [x] 实时数据模拟
- [x] 测试页面演示

### 🔄 待完成
- [ ] 腾讯云 CloudBase 集成
- [ ] 实时数据同步
- [ ] 生产环境部署
- [ ] Node.js版本兼容性处理

## 🚀 部署建议

### 生产环境
1. **腾讯云 CloudBase** - 推荐用于中国大陆用户
2. **Netlify** - 备选方案，全球CDN加速
3. **Vercel** - 开发者友好的部署平台

### 域名配置
- 支持自定义域名
- HTTPS 强制启用
- 中国大陆CDN加速

## 📞 技术支持

### 常见问题
1. **Node.js版本问题**: 当前需要Node.js 20.19+，可通过`test.html`预览功能
2. **清除缓存**: `npm cache clean --force`
3. **重新安装**: `rm -rf node_modules && npm install`

### 下一步开发
1. 升级Node.js版本到20.19+
2. 集成腾讯云CloudBase SDK
3. 实现真实的实时数据同步
4. 部署到生产环境

## 📄 许可证

本项目仅供特定用户使用，不提供开源许可证。

---

*用心打造的专属阅读空间 💕*
